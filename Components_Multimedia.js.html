<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: Components/Multimedia.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: Components/Multimedia.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import {
	storage
} from '../firebase-config';

/**
 * Uploads the image specified in the input text box to Firebase storage.
 * Uses the image URL from firebase to change the src of the corresponsing img tag.
 * 
 * @param e
 * @param num Represents a specific img tag in the structure
 */
export const uploadImageGIF = (e, num) => {
	let imageObj = {};

	let currentImageName = "firebase-image-" + Date.now();

	let uploadImage = storage.ref(`images/${currentImageName}`).put(e.target.files[0]);

	uploadImage.on('state_changed',
		(snapshot) => {},
		(error) => {
			alert(error);
		},
		() => {
			storage.ref('images').child(currentImageName).getDownloadURL().then(url => {
				var img = document.getElementById('image_' + e.target.id);
				var x = document.getElementsByClassName("image_edit_link" + num)[0];
				x.value = url;
				var inside_img = img.getElementsByTagName('img')[0];
				inside_img.src = url;
				img.src = url;
			})
		})
}

/**
 * Changes the video link using the input text box's contents.
 * Manually edits the link to retrieve the YouTube thumbnail of the video as a representation. 
 * 
 * @param e
 */
export const onChangeVideo = (e) => {
	var val = document.getElementById(e.target.id).value;
	var vid = document.getElementById('video_' + e.target.id.split("_")[2]);
	vid.href = val;
	var amp_img = vid.getElementsByTagName('amp-img')[0];
	var img = amp_img.getElementsByTagName('img')[0];
	var link = 'https://img.youtube.com/vi/' + val.split('?v=')[1].split('&amp;')[0] + '/maxresdefault.jpg'
	img.src = link;
	amp_img.src = link;
}

/**
 * Handles the image upload button click.
 * 
 * @param e
 * @param cname The file input element the corresponding button.
 */
export const fileBtnClick = (e, cname) => {
	var el = document.getElementsByClassName(cname)[0];
	el.click();
}

/**
 * Changes the source of the corresponding img or gif when the link in the input changes.
 * 
 * @param e
 * @param t Represents the img tag.
 */
export const onChangeImgGIFLink = (e, t) => {
	var m = document.getElementById(t + e.target.id.split("_")[2]);
	var img = m.getElementsByTagName('img')[0];
	img.src = e.target.value;
	m.src = e.target.value;
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="App.html">App</a></li><li><a href="Button.html">Button</a></li><li><a href="EditableText.html">EditableText</a></li><li><a href="EditableTextPlaceHolder.html">EditableTextPlaceHolder</a></li><li><a href="SidePanel.html">SidePanel</a></li><li><a href="SocialMediaIcon.html">SocialMediaIcon</a></li></ul><h3>Global</h3><ul><li><a href="global.html#changeDivColor">changeDivColor</a></li><li><a href="global.html#changePanel">changePanel</a></li><li><a href="global.html#clone">clone</a></li><li><a href="global.html#fileBtnClick">fileBtnClick</a></li><li><a href="global.html#onChangeFormLink">onChangeFormLink</a></li><li><a href="global.html#onChangeImgGIFLink">onChangeImgGIFLink</a></li><li><a href="global.html#onChangeLink">onChangeLink</a></li><li><a href="global.html#onChangeLinkSocialMedia">onChangeLinkSocialMedia</a></li><li><a href="global.html#onChangeVideo">onChangeVideo</a></li><li><a href="global.html#rgb2hex">rgb2hex</a></li><li><a href="global.html#toggleCheckBoxSocialMedia">toggleCheckBoxSocialMedia</a></li><li><a href="global.html#uploadImageGIF">uploadImageGIF</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.6</a> on Tue Dec 22 2020 01:39:02 GMT+0530 (India Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
